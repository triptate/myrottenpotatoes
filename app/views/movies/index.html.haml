-# This file is app/views/movies/index.html.haml
%h1 All Movies

= form_tag movies_path, :method => :get do
  Include:
  - @all_ratings.each do |rating|
    = rating
    = check_box_tag "filter[#{rating}]", rating, @filter.keys.include?(rating)
  = submit_tag 'Refresh'

%table#movies
  %thead
    %tr
      %th ID
      %th{:class => ('hilite' if @sort == :title)}
        = link_to 'Movie Title', movies_path({:sort => :title}), :id => 'title_header'
      %th Rating
      %th{:class => ('hilite' if @sort == :release_date)}
        = link_to 'Release Date', movies_path({:sort => :release_date}), :id => 'release_date_header'
      %th More Info
      %th Edit
      %th Delete
  %tbody
    = render :partial => 'movie_row', :collection => @movies

= link_to 'Add new movie manually', new_movie_path

%h1 Search TMDb for a movie

= form_tag :action => 'search_tmdb' do

  %label{:for => 'search_terms'} Search Terms
  = text_field_tag 'search_terms'
  = submit_tag 'Search TMDb'
